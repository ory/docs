---
id: generic
title: Add any SAML SSO provider to your Ory project
sidebar_label: Generic provider
toc_max_heading_level: 4
---

# Generic provider

The "Generic Provider" option allows you to add any SAML provider that doesn't require custom API calls to get the required user
information. To add a SAML SSO provider, you need these details:

- Service provider metadata

````mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
<TabItem value="cli" label="Ory CLI">

Follow these steps to add a generic provider as a SAML SSO provider to your project using the Ory CLI:

1. Get your provider metadata.
2. Create a [Jsonnet code snippet](#data-mapping) to map the desired claims to the Ory Identity schema.
3. Encode the Jsonnet snippet with [Base64](https://www.base64encode.org/) or host it under an URL accessible to The Ory Network.
4. Download the Ory Identities config from your project and save it to a file:

   ```shell
   ## List all available projects
   ory list projects

   ## Get config
   ory get identity-config {project-id} --format yaml > identity-config.yaml
   ```
5. Add the SAML SSO provider configuration to the downloaded config. Add the Jsonnet snippet with mappings as a Base64
   string or provide an URL to the file.

   ```yaml
   selfservice:
     methods:
       saml:
        config:
          providers:
            - id: generic # This is `<provider-id>` in the Authorization callback URL. DO NOT CHANGE IT ONCE SET!
              label: generic # Used as a label for the UI login button
              provider: generic
              public_cert_path: .... # Replace this with the provider public certificate path
              private_key_path: .... # Replace this with the provider private key path
              mapper_url: "base64://{YOUR_BASE64_ENCODED_JSONNET_HERE}"

              idp_information:
                idp_metadata_url: .... # Replace this with identity provider path URL

              # You must match the values required by Kratos with the name of the attributes sent in the SAML assertion
              attributes_map:
                id: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/upn # ADFS example
                firstname: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname # ADFS example
                lastname: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname # ADFS example
                nickname: default
                gender: default
                birthdate: default
                picture: default
                email: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress # ADFS example
                roles: http://schemas.microsoft.com/ws/2008/06/identity/claims/role # ADFS example
                phone_number: default
          enabled: true
   ```

6. Update the Ory Identities configuration using the file you worked with:

   ```shell
   ory update identity-config {project-id} --file updated_config.yaml
   ```

</TabItem>
</Tabs>
````
