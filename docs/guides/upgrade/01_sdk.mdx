---
id: sdk
title: Upgrade your Ory SDKs to v1
sidebar_label: SDK V1 Upgrade Guide
---

```mdx-code-block
import CodeBlock from '@theme/CodeBlock'
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
```

# SDK V1 Upgrade Guide

We are excited to announce the release of version 1.0 of Ory's Software Development Kits (SDKs) for all major languages.
As part of releasing version 1.0, we have streamlined naming conventions and improved the API documentation.

## History

Ory SDKs have been around for a while and have gone through several transformations. We always relied on [openapi-generator](https://github.com/OpenAPITools/openapi-generator)
to auto-generate SDKs from our OpenAPI specifications.

## Backwards Compatibility

Versions prior to 1.0 will remain functional and compatible with APIs offered on the Ory Network. However, we will no longer be maintaining these versions. We recommend that you upgrade to the latest version of the SDKs
within the next 3 months.

## Upgrade Guide

Let's take a look at the changes we made to the SDKs and some examples of how to upgrade your code. We will use Golang for
the examples, but the changes are similar for all languages.

In essence, what is changing are naming conventions, not payloads or functionality. Let's create a new SDK client for the
examples below:

````mdx-code-block
<Tabs>
  <TabItem value="go" label="Golang" default>

```go
import ory "github.com/ory/client-go"

var client = NewSDK()

// Use this context to access Ory APIs which require an Ory API Key.
var oryAuthedContext = context.WithValue(context.Background(), ory.ContextAccessToken, os.Getenv("ORY_API_KEY"))

func NewSDK() *ory.APIClient {
  conf := ory.NewConfiguration()
  conf.Servers = ory.ServerConfigurations{{
    URL: "https://{your-project}.projects.oryapis.com/",
  }}

  // If you want the SDK to use a custom HTTP Client, set:
  //  conf.HTTPClient = &http.Client{ /* ... */ }

  return ory.NewAPIClient(conf)
}
```

  </TabItem>
  <TabItem value="js" label="JavaScript">

```diff
import {
  Configuration,
- V0alpha2Api
+ OAuth2Api,
+ IdentityApi,
+ FrontendApi,
} from "@ory/client"

const config = new Configuration({
  basePath: "https://{your-project}.projects.oryapis.com/",
  accessToken: process.env.ORY_API_KEY,
  baseOptions: {
    withCredentials: true, // Important for CORS
    timeout: 30000, // 30 seconds
  },
})

const ory = {
- v0alpha2: V0alpha2Api
+ identity: new IdentityApi(config),
+ frontend: new FrontendApi(config),
+ oauth2: new OAuth2Api(config),
}
```

  </TabItem>
</Tabs>
````

### TypeScript / JavaScript

###

### Operations

Let's take a look at the changes we made to the SDKs and some examples of how to upgrade your code!

### Create Identity

````mdx-code-block
<Tabs>
  <TabItem value="go" label="Golang" default>

```diff
-	identity, res, err := client.V0alpha2Api.AdminCreateIdentity(oryAuthedContext).
-		AdminCreateIdentityBody(ory.AdminCreateIdentityBody{
+	identity, res, err := client.IdentityApi.CreateIdentity(oryAuthedContext).
+		CreateIdentityBody(ory.CreateIdentityBody{
			SchemaId: "default",
			Traits: map[string]interface{}{
				"email": "hello@example.org",
			},
		}).Execute()
```

  </TabItem>
  <TabItem value="js" label="JavaScript">

```diff
- const identity = await ory.v0alpha2
-   .adminCreateIdentity({
+ const identity = await ory.identity
+   .createIdentity({
      schema_id: "preset://email",
      traits: { email: generateEmail() },
    })
    .then(({ data }) => data)
```

  </TabItem>
</Tabs>
````

### Delete Identity

````mdx-code-block
<Tabs>
  <TabItem value="go" label="Golang" default>

```diff
-	res, err := client.V0alpha2Api.AdminDeleteIdentity(oryAuthedContext, identity.Id).Execute()
+	res, err := client.IdentityApi.DeleteIdentity(oryAuthedContext, identity.Id).Execute()
```

  </TabItem>
  <TabItem value="js" label="JavaScript">

```diff
- await ory.v0alpha2.adminDeleteIdentity(identity.id)
+ await ory.identity.deleteIdentity(identity.id)
```

  </TabItem>
</Tabs>
````

### Get Identity

````mdx-code-block
<Tabs>
  <TabItem value="go" label="Golang" default>

```diff
-	identity, res, err := client.V0alpha2Api.AdminGetIdentity(oryAuthedContext, created.Id).Execute()
+	identity, res, err := client.IdentityApi.GetIdentity(oryAuthedContext, created.Id).Execute()
```

  </TabItem>
  <TabItem value="js" label="JavaScript">

```diff
- const identity = await ory.v0alpha2
-   .adminGetIdentity(expected.id)
+ const identity = await ory.identity
+   .getIdentity(expected.id)
    .then(({ data }) => data)
```

  </TabItem>
</Tabs>
````

### Update Identity

````mdx-code-block
<Tabs>
  <TabItem value="go" label="Golang" default>

```diff
-	identity, res, err := client.V0alpha2Api.AdminUpdateIdentity(oryAuthedContext, toUpdate.Id).AdminUpdateIdentityBody(ory.AdminUpdateIdentityBody{
+	identity, res, err := client.IdentityApi.UpdateIdentity(oryAuthedContext, toUpdate.Id).UpdateIdentityBody(ory.UpdateIdentityBody{
		Traits: map[string]interface{}{
			"email": "dev+not-" + x.NewUUID().String() + "@ory.sh",
		},
	}).Execute()
```

  </TabItem>
  <TabItem value="js" label="JavaScript">

```diff
- const identity = await ory.v0alpha2
-   .adminUpdateIdentity(expected.id, {
+ const identity = await ory.identity
+   .updateIdentity(expected.id, {
      schema_id: expected.schema_id,
      traits: { email: "new@email.com", ...expected.traits },
      state: .state,
    })
    .then(({ data }) => data)
```

  </TabItem>
</Tabs>
````

### Get Flow Error

````mdx-code-block
<Tabs>
  <TabItem value="go" label="Golang" default>

```diff
- func getError() *ory.SelfServiceError {
-	  e, res, err := client.V0alpha2Api.GetSelfServiceErrorExecute(ory.V0alpha2ApiApiGetSelfServiceErrorRequest{}.Id(errorId))
+ func getError() *ory.FlowError {
+	  e, res, err := client.FrontendApi.GetFlowError(context.Background()).Id(errorId).Execute()
	  // if err != nil ...
	  return e
  }
```

  </TabItem>
  <TabItem value="js" label="JavaScript">

```diff
- const error = await ory.v0alpha2
-  .getSelfServiceError(errorId)
+ const error = await ory.frontend
+  .getFlowError(errorId)
   .then(({ data }) => data)
```

  </TabItem>
</Tabs>
````


### Native App Frontend APIs

#### Registration for Native Apps

```diff
-	flow, res, err := c.V0alpha2Api.InitializeSelfServiceRegistrationFlowWithoutBrowser(ctx).Execute()
+	flow, res, err := c.FrontendApi.CreateNativeRegistrationFlow(ctx).Execute()
// if err != ...

-	result, res, err := c.V0alpha2Api.SubmitSelfServiceRegistrationFlow(ctx).Flow(flow.Id).SubmitSelfServiceRegistrationFlowBody(
-		ory.SubmitSelfServiceRegistrationFlowWithPasswordMethodBodyAsSubmitSelfServiceRegistrationFlowBody(&ory.SubmitSelfServiceRegistrationFlowWithPasswordMethodBody{
+	result, res, err := c.FrontendApi.UpdateRegistrationFlow(ctx).Flow(flow.Id).UpdateRegistrationFlowBody(
+		ory.UpdateRegistrationFlowWithPasswordMethodAsUpdateRegistrationFlowBody(&ory.UpdateRegistrationFlowWithPasswordMethod{
			Method:   "password",
			Password: password,
			Traits:   map[string]interface{}{"email": email},
		}),
	).Execute()

	if result.Session == nil {
		// ...
```

#### Login for Native Apps

```diff
-	flow, res, err := client.V0alpha2Api.InitializeSelfServiceLoginFlowWithoutBrowser(ctx).Execute()
+	flow, res, err := client.FrontendApi.CreateNativeLoginFlow(ctx).Execute()
	// if err != nil ...

-	result, res, err := client.FrontendApi.UpdateLoginFlow(ctx).Flow(flow.Id).UpdateLoginFlowBody(
-		ory.UpdateLoginFlowWithPasswordMethodAsUpdateLoginFlowBody(&ory.UpdateLoginFlowWithPasswordMethod{
+	result, res, err := client.V0alpha2Api.SubmitSelfServiceLoginFlow(ctx).Flow(flow.Id).SubmitSelfServiceLoginFlowBody(
+		ory.SubmitSelfServiceLoginFlowWithPasswordMethodBodyAsSubmitSelfServiceLoginFlowBody(&ory.SubmitSelfServiceLoginFlowWithPasswordMethodBody{
			Method:             "password",
			Password:           password,
			PasswordIdentifier: &email,
		}),
	).Execute()
```

#### Logout for Native Apps

```diff
+	res, err := client.V0alpha2Api.SubmitSelfServiceLogoutFlowWithoutBrowserExecute(ory.V0alpha2ApiApiSubmitSelfServiceLogoutFlowWithoutBrowserRequest{}.
+		SubmitSelfServiceLogoutFlowWithoutBrowserBody(ory.SubmitSelfServiceLogoutFlowWithoutBrowserBody{SessionToken: sessionToken}))
-	res, err := client.FrontendApi.PerformNativeLogout(context.Background()).
-		PerformNativeLogoutBody(ory.PerformNativeLogoutBody{SessionToken: sessionToken}).Execute()
```

#### Recovery for Native Apps

```diff
-	flow, res, err := client.V0alpha2Api.InitializeSelfServiceRecoveryFlowWithoutBrowser(ctx).Execute()
+	flow, res, err := client.FrontendApi.CreateNativeRecoveryFlow(ctx).Execute()
	// if err != nil ...

-	afterSubmit, res, err := client.V0alpha2Api.SubmitSelfServiceRecoveryFlow(ctx).Flow(flow.Id).
-		SubmitSelfServiceRecoveryFlowBody(ory.SubmitSelfServiceRecoveryFlowWithLinkMethodBodyAsSubmitSelfServiceRecoveryFlowBody(&ory.SubmitSelfServiceRecoveryFlowWithLinkMethodBody{
+	afterSubmit, res, err := client.FrontendApi.UpdateRecoveryFlow(ctx).Flow(flow.Id).
+		UpdateRecoveryFlowBody(ory.UpdateRecoveryFlowWithLinkMethodAsUpdateRecoveryFlowBody(&ory.UpdateRecoveryFlowWithLinkMethod{
			Email:  email,
			Method: "link",
		})).Execute()
```

#### Account Settings for Native Apps

```diff
+	flow, res, err := client.V0alpha2Api.InitializeSelfServiceSettingsFlowWithoutBrowserExecute(ory.V0alpha2ApiApiInitializeSelfServiceSettingsFlowWithoutBrowserRequest{}.
+		XSessionToken(sessionToken))
-	flow, res, err := client.FrontendApi.CreateNativeSettingsFlow(context.Background()).
-		XSessionToken(sessionToken).Execute()

// Change Password
-	result, res, err := client.V0alpha2Api.SubmitSelfServiceSettingsFlow(ctx).Flow(flow.Id).XSessionToken(sessionToken).SubmitSelfServiceSettingsFlowBody(
-		ory.SubmitSelfServiceSettingsFlowWithPasswordMethodBodyAsSubmitSelfServiceSettingsFlowBody(&ory.SubmitSelfServiceSettingsFlowWithPasswordMethodBody{
+	result, res, err := client.FrontendApi.UpdateSettingsFlow(ctx).Flow(flow.Id).XSessionToken(sessionToken).UpdateSettingsFlowBody(
+		ory.UpdateSettingsFlowWithPasswordMethodAsUpdateSettingsFlowBody(&ory.UpdateSettingsFlowWithPasswordMethod{
			Method:   "password",
			Password: "a new password",
		}),

// Change Identity Traits
-	result, res, err := client.V0alpha2Api.SubmitSelfServiceSettingsFlow(ctx).Flow(flow.Id).XSessionToken(sessionToken).SubmitSelfServiceSettingsFlowBody(
-		ory.SubmitSelfServiceSettingsFlowWithProfileMethodBodyAsSubmitSelfServiceSettingsFlowBody(&ory.SubmitSelfServiceSettingsFlowWithProfileMethodBody{
+	result, res, err := client.FrontendApi.UpdateSettingsFlow(ctx).Flow(flow.Id).XSessionToken(sessionToken).UpdateSettingsFlowBody(
+		ory.UpdateSettingsFlowWithProfileMethodAsUpdateSettingsFlowBody(&ory.UpdateSettingsFlowWithProfileMethod{
			Method: "profile",
			Traits: map[string]interface{}{
				"email": "some-new-email@example.org",
			},
		}),
```

#### Verification for Native Apps

```diff
-	flow, res, err := client.V0alpha2Api.InitializeSelfServiceVerificationFlowWithoutBrowser(ctx).Execute()
+	flow, res, err := client.FrontendApi.CreateNativeVerificationFlow(ctx).Execute()
	// if err != nil ...

-	afterSubmit, res, err := client.V0alpha2Api.SubmitSelfServiceVerificationFlow(ctx).Flow(flow.Id).
-		SubmitSelfServiceVerificationFlowBody(ory.SubmitSelfServiceVerificationFlowWithLinkMethodBodyAsSubmitSelfServiceVerificationFlowBody(&ory.SubmitSelfServiceVerificationFlowWithLinkMethodBody{
+	afterSubmit, res, err := client.FrontendApi.UpdateVerificationFlow(ctx).Flow(flow.Id).
+		UpdateVerificationFlowBody(ory.UpdateVerificationFlowWithLinkMethodAsUpdateVerificationFlowBody(&ory.UpdateVerificationFlowWithLinkMethod{
			Email:  email,
			Method: "link",
		})).Execute()
	pkg.SDKExitOnError(err, res)
```

### Browser Apps

#### Settings Flow

```diff
async function example() {
-  const flow = await ory.v0alpha2.
+  const flow = await ory.frontend.
-    initializeSelfServiceSettingsFlowForBrowsers().
+    createBrowserSettingsFlow().
     then(({ data: flow }) => flow)
}
```

### Session

## Future Work

Ory relies heavily on [openapi-generator](https://github.com/OpenAPITools/openapi-generator) to auto-generate
our SDKs from OpenAPI specification. We know that the generated code is far from perfect and needs to be improved in many
ways. We will be working together with the OpenAPI project to improve the code templates and the generated code. This
is a major effort and will take some time. In the meanwhile, we will be releasing improvements to the SDK iteratively
to make your life as easy as possible.
