---
id: identity-provider-integration-settings
title: Identity Provider Integration Settings
sidebar_label: Identity Provider Integration Settings
---

## Overview

Ory OAuth2 and OpenID Connect is by default configured to work with the Ory Identity Provider. And for most use cases no
additional configuration is required. This document will explain how to configure your Ory project to allow for more advanced use
cases such as persisting OAuth2 logins through the Ory Identity Provider flows.

It is sometimes necessary to persist an OAuth2 login through a complex Ory Identity flow such as account recovery. The benefit of
persisting the OAuth2 login challenge is so that the user does not get stuck on the Ory Identity provider settings page, but
instead is redirected back to the original OAuth2 login flow. This allows the user to continue the OAuth2 login flow without
having to start over again.

For new projects the `Always Return to OAuth2 provider` setting is enabled by default. For existing projects you will need to
enable this manually.

:::info

Enabling this setting overrides the `return_to` query parameter and always redirects back to the OAuth2 provider within an OAuth2
login flow. Please ensure that business logic set by your application isn't disrupted by this setting.

:::

````mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
<TabItem value="console" label="Ory Console" default>

Go to <ConsoleLink route="project.settings.advanced" /> and enable the `OAuth2 provider override "return_to` setting.

</TabItem>

<TabItem value="cli" label="Ory CLI">

```shell
ory patch ory patch project <your-project-id> \
  --replace '/services/identity/oauth2_provider/override_return_to=true'
```

</TabItem>
</Tabs>
````
