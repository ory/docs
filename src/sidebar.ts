// Copyright Â© 2022 Ory Corp
// SPDX-License-Identifier: Apache-2.0

// sidebars.ts
import type { SidebarsConfig } from "@docusaurus/plugin-content-docs"
import {
  SidebarItemConfig,
} from "@docusaurus/plugin-content-docs/src/sidebars/types"

type SidebarItemsConfig = SidebarItemConfig[]

// adjust imports depending on how those files export
import networkSidebar from "../sidebars-network"
import oelSidebar from "../sidebars-oel"
import ossSidebar from "../sidebars-oss"

const api: SidebarItemsConfig = [
  "reference/api",
  "ecosystem/api-design",
  {
    type: "category",
    label: "Operations",
    collapsed: false,
    collapsible: false,
    link: {
      type: "generated-index",
      slug: "/category/operations-reference",
    },
    items: [
      "concepts/personal-access-token",
      "guides/cors",
      "guides/api-rest-pagination",
      "guides/rate-limits",
      "guides/ip-allowlist",
      "api/eventual-consistency",
      "kratos/reference/jsonnet",
      "guides/user-impersonation",
    ],
  },
]

const cli: SidebarItemsConfig = [
  {
    type: "category",
    label: "Ory CLI reference",
    collapsed: false,
    collapsible: false,
    link: {
      type: "generated-index",
      slug: "/category/ory-cli-reference",
    },
    items: [
      "guides/cli/installation",
      "guides/cli/cli-basics",
      "guides/cli/identity-cli",
      "guides/cli/oauth2-cli",
      "guides/cli/configure-permission-service",
      "guides/cli/proxy-and-tunnel",
      "guides/cli/config-with-cli",
      {
        type: "category",
        label: "CLI commands reference",
        link: {
          type: "generated-index",
        },
        items: [
          {
            type: "autogenerated",
            dirName: "cli",
          },
        ],
      },
    ],
  },
]

const sidebars: SidebarsConfig = {
  networkSidebar: networkSidebar as SidebarItemsConfig,
  oelSidebar: oelSidebar as SidebarItemsConfig,
  ossSidebar: ossSidebar as SidebarItemsConfig,
  api,
  cli,
}

export default sidebars